<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Actualizar usuarios</title>
  <link rel="stylesheet" type="text/css" href="/Styles/stylesedituser.css" />
  <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
</head>

<body>
  <section>
    <div class="card-header">
      <span class="texto" style="
            font-size: 2em;
            color: black;
            display: block;
            text-align: center;
            font-family:Arial, Helvetica, sans-serif;
          ">Editar Usuario</span>
      <% if (usuario){%>
        <div class="container mt-4">
          <img src="/Styles/usuario.png" alt="Descripción de la imagen" class="resizable-image"
            style="max-width: 20%; display: block; margin: 0 auto;">
          <div class="card-body">
            <form action="/updateuser" method="POST" id="contactForm" style="font-family: inherit;">
              <div class="form-box">
                <div class="form-value" style="margin-top: 20px">
                  <input id="id" name="id" value="<%= usuario.id_usuario %>" hidden />
                  <div class="row justify-content-center" style="margin-left: 1px">
                    <div class="mb-3" style="margin-left: 20px;">
                      <div class="form-floating mb-1">
                        <input type="text" class="form-control" id="nombre" name="nombre" value="<%= usuario.Nombre %>"
                          tabindex="1" style="width: 405px;" required>
                        <label for="floatingInput">Nombre:</label>
                      </div>
                    </div>
                    <div class="mb-3" style="margin-left: 20px;">
                      <div class="form-floating mb-1">
                        <input type="text" class="form-control" id="apellido" name="apellido"
                          value="<%= usuario.Apellido %>" tabindex="1" style="width: 405px;" required>
                        <label for="floatingInput">Apellido:</label>
                      </div>
                    </div>
                  </div>
                  <div class="row justify-content-center" style="margin-left: 1px">
                    <div class="mb-3" style="margin-left: 20px;">
                      <div class="form-floating mb-1">
                        <input type="tel" class="form-control" id="telefono" name="telefono"
                          value="<%= usuario.Telefono %>" tabindex="1" style="width: 405px;" required>
                        <label for="floatingInput">Teléfono:</label>
                      </div>
                    </div>
                    <div class="mb-3" style="margin-left: 20px;">
                      <div class="form-floating mb-1">
                        <input type="text" class="form-control" id="direccion" name="direccion"
                          value="<%= usuario.Direccion %>" tabindex="1" style="width: 405px;" required>
                        <label for="floatingInput">Dirección:</label>
                      </div>
                    </div>
                  </div>
                  <div class="row justify-content-center" style="margin-left: 1px">
                    <div class="mb-3" style="margin-left: 20px;">
                      <div class="form-floating mb-1">
                        <select class="form-select" id="id_rol" name="id_rol" tabindex="2" style="width: 405px;">
                          <option <%=usuario.id_rol==='Administrador' ? 'selected' : '' %>
                            value="Administrador">Administrador</option>
                          <option <%=usuario.id_rol==='Cliente' ? 'selected' : '' %> value="Cliente">Cliente</option>
                        </select>
                        <label for="floatingInput">Rol:</label>
                      </div>
                    </div>
                  </div>
                  <div class="row justify-content-center" style="margin-left: 1px">
                    <div class="mb-3" style="margin-left: 20px;">
                      <div id="mensaje-exito" style="display: none; width: 405px" class="alert alert-success">
                        <i class="fas fa-check-circle"></i> Bloque actualizado
                        exitosamente.
                      </div>
                    </div>
                  </div>
                  <button type="submit" class="btn btn-primary custom-button" tabindex="5"
                    style="background-color: #210f7a; margin-left: 100px">
                    GUARDAR
                  </button>
                  <a href="javascript:void(0);" onclick="cerrarModalEdit()" class="btn btn-secondary custom-button"
                    style="background-color: rgb(200, 32, 32); margin-left: 50px">CANCELAR</a>
                </div>
              </div>
            </form>
          </div>
        </div>
        <%} %>
  </section>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
    crossorigin="anonymous"></script>
  <script>
    const telefonoInput = document.getElementById("telefono");

    telefonoInput.addEventListener("input", function (event) {
      const value = event.target.value;
      const sanitizedValue = value.replace(/\D/g, '');
      event.target.value = sanitizedValue;
    });
  </script>
  <!-- <script>
    document
      .getElementById("contactForm")
      .addEventListener("submit", function (event) {
        event.preventDefault();
        const mensajeExito = document.getElementById("mensaje-exito");
        mensajeExito.style.display = "block";
        setTimeout(function () {
          mensajeExito.style.display = "none";
        }, 1000);
      });
  </script> -->
</body>

</html>